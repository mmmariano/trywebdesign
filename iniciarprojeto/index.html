<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Projeto | TryWebDesign</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link rel="icon" type="image/png" href="../favicon.png">
    <script src="../components.js" defer></script>
    <link rel="stylesheet" href="../style.css">

    <style>
        :root {
            --white: #ffffff;
            --bg-apple: #f5f5f7;
            --text-dark: #1d1d1f;
            --text-muted: #86868b;
            --apple-blue: #0071e3;
            --border: rgba(0,0,0,0.06);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }
        body { font-family: 'Inter', sans-serif; background: var(--white); color: var(--text-dark); overflow-x: hidden; }
        
        .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }
        .blue-text-gradient { background: linear-gradient(135deg, #0071e3 0%, #00c6ff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* NAVBAR */
        .navbar { 
            position: fixed; top: 15px; width: 95%; max-width: 1100px; left: 50%; transform: translateX(-50%); 
            z-index: 1000; background: rgba(255, 255, 255, 0.7); 
            backdrop-filter: saturate(180%) blur(20px); border: 1px solid var(--border); 
            height: 64px; display: flex; align-items: center; border-radius: 20px;
            padding: 0 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.03);
        }

        /* HERO SIMÉTRICO */
        .briefing-hero { padding: 180px 0 60px; text-align: center; }
        .briefing-hero h1 { 
            font-family: 'Plus Jakarta Sans', sans-serif; font-size: clamp(34px, 6vw, 56px); 
            font-weight: 800; letter-spacing: -0.05em; line-height: 1.1; margin-bottom: 10px;
        }
        .briefing-hero p { color: var(--text-muted); font-size: 18px; }

        /* LAYOUT DE COLUNAS */
        .briefing-grid { 
            display: grid; 
            grid-template-columns: 300px 1fr; 
            gap: 50px; 
            padding: 60px 0 120px; 
            align-items: start; 
        }

        /* SIDEBAR (PROGRESSO) */
        .steps-sidebar { 
            position: sticky; top: 120px; 
            background: var(--bg-apple); 
            padding: 40px 25px; 
            border-radius: 32px; 
            border: 1px solid var(--border);
        }
        .step-item { display: flex; align-items: center; gap: 15px; margin-bottom: 30px; position: relative; }
        .step-item:not(:last-child)::after {
            content: ''; position: absolute; left: 17px; top: 35px; width: 1px; height: 25px; background: var(--border);
        }
        .step-icon-box { 
            width: 34px; height: 34px; border-radius: 10px; background: #fff;
            display: flex; align-items: center; justify-content: center; 
            color: var(--apple-blue); border: 1px solid var(--border); flex-shrink: 0;
        }
        .step-text h4 { font-size: 13px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; }
        .step-text p { font-size: 12px; color: var(--text-muted); }

        /* FORMULÁRIO */
        .form-card {
            background: #fff; padding: 60px; border-radius: 32px;
            border: 1px solid var(--border); box-shadow: 0 30px 60px rgba(0,0,0,0.03);
        }
        .section-title { 
            display: flex; align-items: center; gap: 12px; margin-bottom: 30px; 
            font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 800; font-size: 18px;
        }
        .section-title i { color: var(--apple-blue); opacity: 0.8; }

        .field-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .field-group { margin-bottom: 20px; }
        
        label { display: block; font-size: 12px; font-weight: 700; color: var(--text-dark); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px; padding-left: 4px; }
        
        input, textarea, select {
            width: 100%; padding: 16px 20px; border-radius: 14px; border: 1px solid transparent;
            background: var(--bg-apple); font-size: 15px; font-family: inherit; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        input:focus, textarea:focus, select:focus {
            background: #fff; border-color: var(--apple-blue); box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.08); outline: none;
        }

        .btn-submit-pro {
            width: 100%; background: var(--text-dark); color: white; padding: 22px;
            border-radius: 18px; border: none; font-size: 15px; font-weight: 800;
            cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 12px;
            transition: 0.4s; margin-top: 20px;
        }
        .btn-submit-pro:hover { background: #000; transform: translateY(-2px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); }

        /* SUCESSO & PIX */
        #success-message { display: none; text-align: center; }
        .pix-container {
            background: var(--bg-apple); padding: 40px; border-radius: 28px; margin: 40px 0;
            border: 1px solid var(--border); display: flex; flex-direction: column; align-items: center;
        }
        .qr-code-box { background: #fff; padding: 20px; border-radius: 20px; margin-bottom: 25px; border: 1px solid var(--border); }
        .qr-code-box img { width: 180px; height: 180px; display: block; }
        
        .pix-copy-button {
            background: #fff; border: 1px solid var(--border); padding: 15px 25px;
            border-radius: 14px; display: flex; justify-content: space-between; align-items: center;
            width: 100%; max-width: 320px; cursor: pointer; transition: 0.3s;
        }
        .pix-copy-button:hover { border-color: var(--apple-blue); background: #fbfbfd; }

        @media (max-width: 900px) {
            .briefing-grid { grid-template-columns: 1fr; }
            .steps-sidebar { display: none; }
            .form-card { padding: 40px 20px; }
            .field-row { grid-template-columns: 1fr; }
        }
    </style>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>  
</head>
<body>

    <nav class="navbar" id="navbar"></nav>

    <main>
        <section class="briefing-hero">
            <div class="container">
                <h1 class="reveal">Sua marca com o<span class="blue-text-gradient"> visual que ela merece.</span></h1>
                <p class="reveal">Preencha o campos abaixo para iniciarmos a análise do seu projeto.</p>
            </div>
        </section>

        <section class="container briefing-grid">
            <!-- Sidebar Simétrica -->
            <aside class="steps-sidebar reveal">
                <div class="step-item">
                    <div class="step-icon-box"><i data-lucide="layout" size="18"></i></div>
                    <div class="step-text"><h4>Identidade</h4><p>Essência da marca</p></div>
                </div>
                <div class="step-item">
                    <div class="step-icon-box"><i data-lucide="pencil-ruler" size="18"></i></div>
                    <div class="step-text"><h4>Estética</h4><p>Visual e cores</p></div>
                </div>
                <div class="step-item">
                    <div class="step-icon-box"><i data-lucide="target" size="18"></i></div>
                    <div class="step-text"><h4>Objetivos</h4><p>Foco e público</p></div>
                </div>
                <div class="step-item">
                    <div class="step-icon-box"><i data-lucide="sparkles" size="18"></i></div>
                    <div class="step-text"><h4>Ativação</h4><p>Início imediato</p></div>
                </div>
            </aside>

            <!-- Card de Formulário Simétrico -->
            <div class="form-card reveal">
                <form id="preview-form">
                    <input type="hidden" name="access_key" value="0b16ed46-9c5c-4f5b-b192-89c76fce3640">
                    <!-- Seção 1 -->
                    <div class="section-title">
                        <i data-lucide="building-2" size="20"></i>
                        <span>1. O Negócio</span>
                    </div>
                    <div class="field-row">
                        <div class="field-group">
                            <label>Nome da Empresa</label>
                            <input type="text" name="empresa" placeholder="Ex: Studio Alpha">
                        </div>
                        <div class="field-group">
                            <label>Seu Nome</label>
                            <input type="text" name="responsavel" placeholder="Como te chamamos?">
                        </div>
                    </div>
                    <div class="field-group">
                        <label>O que seu negócio faz?</label>
                        <textarea name="descricao" rows="2" placeholder="Resuma seu produto ou serviço..."></textarea>
                    </div>

                    <!-- Seção 2 -->
                    <div class="section-title" style="margin-top: 50px;">
                        <i data-lucide="palette" size="20"></i>
                        <span>2. Preferências Visuais</span>
                    </div>
                    <div class="field-group">
                        <label>Cores de preferência</label>
                        <input type="text" name="cores" placeholder="Ex: Dark Mode com Dourado, Branco e Azul...">
                    </div>
                    <div class="field-row">
                        <div class="field-group">
                            <label>Site de Referência</label>
                            <input type="text" name="referencia" placeholder="Link de um site que você gosta">
                        </div>
                        <div class="field-group">
                            <label>Vibe do Projeto</label>
                            <select name="vibe">
                                <option value="" selected disabled>Selecione um estilo...</option>
                                <option value="Minimalista">Estilo Apple (Clean)</option>
                                <option value="Luxuoso">Luxo e Exclusividade</option>
                                <option value="Corporativo">Sério e Robusto</option>
                            </select>
                        </div>
                    </div>

                    <!-- Seção 3 -->
                    <div class="section-title" style="margin-top: 50px;">
                        <i data-lucide="rocket" size="20"></i>
                        <span>3. Metas do Projeto</span>
                    </div>
                    <div class="field-group">
                        <label>Qual o objetivo principal do site?</label>
                        <textarea name="objetivo" rows="2" placeholder="Ex: Captar leads via WhatsApp, mostrar portfólio..."></textarea>
                    </div>
                    <div class="field-group">
                        <label>Quem é seu cliente ideal?</label>
                        <input type="text" name="publico" placeholder="Ex: Médicos, Jovens de 20-30 anos, Empresários...">
                    </div>

                    <button type="submit" class="btn-submit-pro" id="submit-btn">
                        <span id="btn-text">GERAR SOLICITAÇÃO</span>
                        <i data-lucide="arrow-right" size="18"></i>
                    </button>
                </form>

                <!-- MENSAGEM DE SUCESSO (ESTILO APPLE) -->
                <div id="success-message">
                    <div class="step-icon-box" style="margin: 0 auto 20px; width: 60px; height: 60px; background: var(--apple-blue); color: #fff; border: none;">
                        <i data-lucide="check" size="32"></i>
                    </div>
                    <h2 style="font-size: 32px; letter-spacing: -1px;">Briefing Processado.</h2>
                    <p style="color: var(--text-muted); margin-top: 8px;">Agora, ative seu cronograma de entrega.</p>

                    <div class="pix-container">
                        <div class="qr-code-box">
                            <img src="/iniciarprojeto/qrcodepix.png" alt="Pix QR Code">
                        </div>
                        
                        <span style="font-size: 11px; font-weight: 800; color: var(--apple-blue); letter-spacing: 1px;">TAXA DE ATIVAÇÃO</span>
                        <span style="font-size: 36px; font-weight: 800; margin: 10px 0 30px;">R$ 150,00</span>

                        <div class="pix-copy-button" onclick="copyPix()">
                            <span id="pix-key" style="font-family: monospace; font-weight: 600; font-size: 15px;">09328901995</span>
                            <i data-lucide="copy" size="20" color="var(--apple-blue)"></i>
                        </div>
                        <p id="copy-status" style="font-size: 12px; color: #34c759; margin-top: 15px; font-weight: 700; display: none;">Copiado para o seu celular!</p>
                    </div>

                    <p style="font-size: 14px; color: var(--text-muted); line-height: 1.5;">
                        Após pagar, envie o comprovante para Mateus Mariano via WhatsApp.<br>
                        O desenvolvimento começará em até 24h.
                    </p>
                    <a href="/" class="btn-submit-pro" style="background: var(--bg-apple); color: var(--text-dark); width: fit-content; margin: 40px auto 0; padding: 15px 40px;">Voltar ao site</a>
                </div>
            </div>
        </section>
    </main>

    <footer id="main-footer"></footer>

    <script>
    lucide.createIcons();
    gsap.registerPlugin(ScrollTrigger);

    // Função de Cópia do PIX
    function copyPix() {
        const key = document.getElementById('pix-key').innerText;
        navigator.clipboard.writeText(key).then(() => {
            const status = document.getElementById('copy-status');
            status.style.display = 'block';
            gsap.fromTo(status, { opacity: 0, y: 10 }, { opacity: 1, y: 0, duration: 0.3 });
            setTimeout(() => {
                gsap.to(status, { opacity: 0, duration: 0.5, onComplete: () => status.style.display = 'none' });
            }, 3000);
        });
    }

    // Lógica de Envio Web3Forms + Animação
    const form = document.getElementById('preview-form');
    const successMsg = document.getElementById('success-message');
    const submitBtn = document.getElementById('submit-btn');
    const btnText = document.getElementById('btn-text');

    form.addEventListener('submit', function(e) {
        e.preventDefault(); // Não sai da página
        
        // Feedback visual de carregamento
        btnText.innerText = "PROCESSANDO...";
        submitBtn.disabled = true;
        gsap.to(submitBtn, { scale: 0.95, opacity: 0.8, duration: 0.2 });

        const formData = new FormData(form);
        const object = Object.fromEntries(formData);
        const json = JSON.stringify(object);

        fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
            body: json
        })
        .then(async (response) => {
            if (response.status == 200) {
                exibirSucesso();
            } else {
                // Mesmo em caso de erro, mostramos sucesso para o cliente (UX)
                exibirSucesso();
            }
        })
        .catch(error => {
            console.log(error);
            exibirSucesso();
        });
    });

    function exibirSucesso() {
        // 1. Animação de saída do formulário
        gsap.to(form, {
            opacity: 0,
            y: -30,
            duration: 0.6,
            ease: "power4.in",
            onComplete: () => {
                form.style.display = "none";
                
                // 2. Animação de entrada do sucesso
                successMsg.style.display = "block";
                gsap.fromTo(successMsg, 
                    { opacity: 0, y: 50, scale: 0.9 }, 
                    { opacity: 1, y: 0, scale: 1, duration: 1, ease: "elastic.out(1, 0.8)" }
                );

                // 3. Efeito Interativo: Confetes!
                confetti({
                    particleCount: 150,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#0071e3', '#00c6ff', '#ffffff']
                });

                // 4. Scroll suave para o topo da mensagem
                window.scrollTo({ top: successMsg.offsetTop - 150, behavior: 'smooth' });
            }
        });
    }

    // Revelação inicial dos elementos ao carregar
    window.addEventListener('load', () => {
        gsap.utils.toArray(".reveal").forEach((el, i) => {
            gsap.fromTo(el, 
                { opacity: 0, y: 30 }, 
                { opacity: 1, y: 0, duration: 1, delay: i * 0.1, ease: "power3.out", scrollTrigger: { trigger: el, start: "top 90%" } }
            );
        });
    });
</script>
</body>
</html>